# EC-Comp 2022: 群集シミュレーションを用いた発生交通量推定

## 何するの

大規模なイベントだったりの人の混雑をシミュレーションしたい

→　発生交通量を精度よく推定することを競技

情報としては、「いつ・どこからどこへ・どのような人が」が大事らしい。

いつ：時刻

どこからどこへ：始点・終点

どのような人が：歩行者の挙動（数理モデルがあるらしい）

**あるイベントから帰宅する歩行者の観測データをもとに，正しい歩行者情報を推定する最適化問題**

### 詳細

最近は人が多すぎて事故やばいよね～～～

→　標識や警備員の配置で適切な群衆の流れ制御をしたい

→　でも費用とか安全性の観点から実際の環境で評価するの難しいよね

コンピュータシミュレーションならデキル！（？）

より高度なコンピュータシミュレーションのために大事なことは以下

1. 移動経路に関する地図情報
2. 歩行者の発生時刻や起点終点に関する情報（OD交通量）
3. 移動速度や経路洗濯などの補講t社の挙動を表す数理モデル
4. 群衆制御や災害による通行止めなどの外的要因

これを使うらしい。（歩行者に対応するエージェントを生成してマルチシミュレーション）

[https://github.com/crest-cassia/CrowdWalk](https://github.com/crest-cassia/CrowdWalk)

## 実際の問題

単目的：実際の花火大会（関門海峡花火大会）における帰宅時のシミュレーション結果

- SOP-1: 帰宅者の出発時刻のみを最適化する問題
- SOP-2: 出発時刻および経路選択を最適化する問題

![Untitled](EC-Comp%202022%20%E7%BE%A4%E9%9B%86%E3%82%B7%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E7%99%BA%E7%94%9F%E4%BA%A4%E9%80%9A%E9%87%8F%E6%8E%A8%E5%AE%9A%20d119f6e8117347bfb90709924085229c/Untitled.png)

こういうルートがあって、以下のようも警備員がいる

- Route1：最も短い経路（Route1: 320[m]）．配置されている警備員の数は分岐制御1人，停止制御3人
- Route2：次に短い経路（Route2: 600[m]）．配置されている警備員の数は分岐制御2人，停止制御2人
- Route3：最も長い経路（Route3: 770[m]）．配置されている警備員の数は分岐制御2人，停止制御2人

ただ、いうこと聞かない人もいる（歩行者モデルで定義）

![fig8.png](EC-Comp%202022%20%E7%BE%A4%E9%9B%86%E3%82%B7%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E7%99%BA%E7%94%9F%E4%BA%A4%E9%80%9A%E9%87%8F%E6%8E%A8%E5%AE%9A%20d119f6e8117347bfb90709924085229c/fig8.png)

上の二種類（カメラとGPS）の情報とシミュレーション結果を突き合わせて誤差を求める

### 歩行者モデル

以下三種類

- Guided：誘導に従う。善良な市民
- Busy：Guidedより早い。誘導に従わずRoute１を移行とするやべーやつ
- Slow：Guidedより遅い。Route1を無視して、Route2orRoute3に行く。まぁこっちもやべー。

こいつらは停止指示には必ず従う。

分布的にはこう

![fig10-12.png](EC-Comp%202022%20%E7%BE%A4%E9%9B%86%E3%82%B7%E3%83%9F%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E7%99%BA%E7%94%9F%E4%BA%A4%E9%80%9A%E9%87%8F%E6%8E%A8%E5%AE%9A%20d119f6e8117347bfb90709924085229c/fig10-12.png)